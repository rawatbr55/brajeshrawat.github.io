<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Brajesh Rawat - Full System</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial}
body{background:#eef2f7;}
header{position:fixed;top:0;width:100%;background:#000;color:#fff;padding:15px;display:flex;justify-content:space-between;align-items:center;z-index:1000}
nav a{color:#fff;margin:0 10px;text-decoration:none}
.container{max-width:1000px;margin:auto;padding:20px}
section{padding:80px 20px;display:none}
section.active{display:block}
.home{height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;background:#0072ff;color:#fff}
.home img{width:180px;height:180px;border-radius:50%;margin-bottom:15px;border:4px solid #fff}
.dashboard{display:flex}
.sidebar{width:220px;background:#111;height:100vh;color:#fff;padding:20px;position:fixed;top:0;left:0;padding-top:80px}
.sidebar a{display:block;color:#fff;margin:15px 0;text-decoration:none;font-size:17px}
.main-content{margin-left:250px;padding:20px;width:calc(100% - 250px)}
.file-box{background:#fff;padding:15px;margin:10px 0;border-radius:8px;display:flex;justify-content:space-between;align-items:center}
button{padding:10px 15px;border:none;border-radius:6px;background:#007bff;color:#fff;cursor:pointer}
button:hover{opacity:.8}
input{padding:10px;margin:10px 0;width:100%}
.login-box{max-width:400px;margin:120px auto;background:#fff;padding:20px;border-radius:10px;box-shadow:0 0 10px rgba(0,0,0,.1)}
</style>
</head>
<body>
<header>
<h2>Brajesh Rawat</h2>
<nav>
<a href="#home" onclick="show('home')">Home</a>
<a href="#login" onclick="show('login')">Login</a>
<a href="#dashboard" onclick="show('dashboard')">Dashboard</a>
</nav>
</header>
<section id="home" class="home active">
<img src="yourphoto.jpg" />
<h1>Welcome to My Portfolio</h1>
<p>Explore projects, notes, uploads & more.</p>
</section>
<section id="login">
<div class="login-box">
<h2>Login</h2>
<input type="email" id="email" placeholder="Email">
<input type="password" id="password" placeholder="Password">
<button onclick="login()">Login</button>
<p style="margin-top:10px">No account? <a href="#" onclick="signup()">Signup</a></p>
</div>
</section>
<section id="dashboard">
<div class="dashboard">
<div class="sidebar">
<h3>Dashboard</h3>
<a onclick="loadUploads()">My Uploads</a>
<a onclick="logout()">Logout</a>
</div>
<div class="main-content">
<h2>Upload Files</h2>
<input type="file" id="fileUpload" />
<button onclick="uploadFile()">Upload</button>
<div id="fileList"></div>
</div>
</div>
</section>
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.1.0/firebase-app.js";
import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword, signOut } from "https://www.gstatic.com/firebasejs/10.1.0/firebase-auth.js";
import { getStorage, ref, uploadBytes, listAll, getDownloadURL, deleteObject } from "https://www.gstatic.com/firebasejs/10.1.0/firebase-storage.js";

const firebaseConfig = {
  apiKey: "AIzaSyA19S8vGKObxrORhez_uFYLoKk2I3fQM1s",
  authDomain: "brajesh-b9592.firebaseapp.com",
  projectId: "brajesh-b9592",
  storageBucket: "brajesh-b9592.firebasestorage.app",
  messagingSenderId: "117767040406",
  appId: "1:117767040406:web:d8567f457faea16985c1b7",
  measurementId: "G-XMXF8RBKP7"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth();
const storage = getStorage();

window.show = function(page){ document.querySelectorAll('section').forEach(s=>s.classList.remove('active')); document.getElementById(page).classList.add('active'); }

window.login = function(){
let email=document.getElementById("email").value;
let pass=document.getElementById("password").value;
signInWithEmailAndPassword(auth,email,pass).then(()=>{show('dashboard')}).catch(e=>alert(e.message));}

window.signup = function(){
let email=document.getElementById("email").value;
let pass=document.getElementById("password").value;
createUserWithEmailAndPassword(auth,email,pass).then(()=>alert("Account Created"));}

window.logout = function(){signOut(auth).then(()=>show('home'));}

window.uploadFile = function(){
let file=document.getElementById("fileUpload").files[0];
if(!file){alert("Select file");return;}
let storageRef=ref(storage,"uploads/"+file.name);
uploadBytes(storageRef,file).then(()=>{alert("Uploaded");loadUploads();});}

window.loadUploads = function(){
let listRef=ref(storage,"uploads");
listAll(listRef).then(res=>{
let html="";
res.items.forEach(item=>{
getDownloadURL(item).then(url=>{
html+=`<div class='file-box'>${item.name}<div><a href='${url}' target='_blank'>View</a> <button onclick="del('${item.fullPath}')">Delete</button></div></div>`;
document.getElementById("fileList").innerHTML=html;
});
});
})}

window.del=function(path){let d=ref(storage,path);deleteObject(d).then(()=>{alert("Deleted");loadUploads();});}
</script>
</body>
</html>
